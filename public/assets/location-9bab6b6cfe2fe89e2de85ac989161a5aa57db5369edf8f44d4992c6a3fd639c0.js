function ajaxCall(){this.send=function(e,t,o,n,r){r=r||"json";var s=function(e){n(e)},a=function(e){console.log(e)};jQuery.ajax({url:t,type:o,data:e,success:s,error:a,dataType:r,timeout:6e4})}}function locationInfo(){var e="https://geodata.solutions/api/api.php",t="";jQuery("#gds_appid").length>0&&(t+="&appid="+jQuery("#gds_appid").val()),jQuery("#gds_hash").length>0&&(t+="&hash="+jQuery("#gds_hash").val());var o=new ajaxCall;this.confCity=function(t){var n=e+"?type=confCity&countryId="+jQuery("#country option:selected").attr("country")+"&state="+jQuery("#state option:selected").attr("state")+"&city="+t,r="post",s={};o.send(s,n,r,function(){})},this.getCities=function(n){jQuery(".cities option:gt(0)").remove();var r=jQuery("#city").attr("class").split(" ");r.shift();var s="";r.length>0&&(acC=r.join(),s="&addClasses="+encodeURIComponent(acC));var a=e+"?type=getCities&countryId="+jQuery("#country option:selected").attr("country")+"&stateId="+n+t+s,i="post",u={};jQuery(".cities").find("option:eq(0)").html("Please wait.."),o.send(u,a,i,function(e){if(jQuery(".cities").find("option:eq(0)").html("Select City"),1==e.tp){if(Object.keys(e.result).length>0)jQuery.each(e.result,function(e,t){var o=jQuery("<option />");o.attr("value",t).text(t),jQuery(".cities").append(o)});else{var t=jQuery("#state option:selected").val(),o=jQuery("<option />");o.attr("value",t).text(t),o.attr("selected","selected"),jQuery(".cities").append(o)}jQuery(".cities").prop("disabled",!1)}else alert(e.msg)})},this.getStates=function(n){jQuery(".states option:gt(0)").remove(),jQuery(".cities option:gt(0)").remove();var r=jQuery("#state").attr("class").split(" ");r.shift();var s="";r.length>0&&(acC=r.join(),s="&addClasses="+encodeURIComponent(acC));var a=e+"?type=getStates&countryId="+n+t+s;console.log(a);var i="post",u={};jQuery(".states").find("option:eq(0)").html("Please wait.."),o.send(u,a,i,function(e){jQuery(".states").find("option:eq(0)").html("Select State"),1==e.tp?(jQuery.each(e.result,function(e,t){var o=jQuery("<option />");o.attr("value",t).text(t),o.attr("state",e),jQuery(".states").append(o)}),jQuery(".states").prop("disabled",!1)):alert(e.tp)})},this.getCountries=function(){var n=jQuery("#country").attr("class");console.log("Hey buddy");var r=n.split(" ");r.shift();var s="";r.length>0&&(acC=r.join(),s="&addClasses="+encodeURIComponent(acC));var a="US";jQuery.each(r,function(e,t){if(t.match("^presel-")&&(a=t.substring(7)),t.match("^presel-byi"));});var i=e+"?type=getCountries"+t+s,u="post",c={};jQuery(".countries").find("option:eq(0)").html("Please wait.."),o.send(c,i,u,function(e){if(jQuery(".countries").find("option:eq(0)").html("Select Country"),1==e.tp){if("byip"==a&&(a=e.presel,console.log("2 presel is set as "+a)),jQuery.inArray("group-continents",r)>-1){var t=jQuery(".countries");console.log(e.result),jQuery.each(e.result,function(e,o){var n=jQuery("<optgroup>",{label:e});o.length>0&&n.appendTo(t),jQuery.each(o,function(e,t){var o=jQuery("<option />");o.attr("value",t.name).text(t.name),o.attr("country",t.id),a&&a.toUpperCase()==t.id&&o.attr("selected","selected"),o.appendTo(n)})})}else jQuery.each(e.result,function(e,t){var o=jQuery("<option />");o.attr("value",t).text(t),o.attr("country",e),console.log(a),a&&a.toUpperCase()==e&&o.attr("selected","selected"),jQuery(".countries").append(o)});a&&jQuery(".countries").trigger("change"),jQuery(".countries").prop("disabled",!1)}})}}console.log("Outer"),jQuery(function(){console.log("Inside Jquery");var e=new locationInfo;e.getCountries(),jQuery(".countries").on("change",function(){var t=jQuery("option:selected",this).attr("country");""!=t?e.getStates(t):jQuery(".states option:gt(0)").remove()}),jQuery(".states").on("change",function(){var t=jQuery("option:selected",this).attr("state");""!=t?e.getCities(t):jQuery(".cities option:gt(0)").remove()}),jQuery(".cities").on("change",function(){var t=jQuery("option:selected",this).val();""!=t&&e.confCity(t)})});